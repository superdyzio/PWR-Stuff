<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>// Place global declarations here.
urgent chan koniec_roku;
urgent chan normalny;
urgent chan przestepny;
urgent chan sprawdz_rok;</declaration><template><name x="5" y="5">Miesiac</name><declaration>// Place local declarations here.
clock dzien;</declaration><location id="id0" x="-856" y="-128"><committed/></location><location id="id1" x="-352" y="-216"><name x="-362" y="-246">Luty_normalny</name><label kind="invariant" x="-392" y="-192">dzien &lt;= 28</label></location><location id="id2" x="-432" y="-240"><committed/></location><location id="id3" x="-560" y="-240"><committed/></location><location id="id4" x="-688" y="-128"><name x="-656" y="-152">Grudzien</name><label kind="invariant" x="-720" y="-112">dzien &lt;= 31</label></location><location id="id5" x="288" y="-128"><name x="320" y="-136">Lipiec</name><label kind="invariant" x="264" y="-112">dzien &lt;= 31</label></location><location id="id6" x="104" y="-128"><name x="94" y="-158">Sierpien</name><label kind="invariant" x="96" y="-104">dzien &lt;= 31</label></location><location id="id7" x="-96" y="-128"><name x="-128" y="-160">Wrzesien</name><label kind="invariant" x="-120" y="-104">dzien &lt;= 30</label></location><location id="id8" x="-288" y="-128"><name x="-328" y="-160">Pazdziernik</name><label kind="invariant" x="-312" y="-112">dzien &lt;= 31</label></location><location id="id9" x="288" y="-240"><name x="256" y="-272">Czerwiec</name><label kind="invariant" x="304" y="-240">dzien &lt;= 30</label></location><location id="id10" x="128" y="-240"><name x="120" y="-272">Maj</name><label kind="invariant" x="96" y="-224">dzien &lt;= 31</label></location><location id="id11" x="-8" y="-240"><name x="-32" y="-272">Kwiecien</name><label kind="invariant" x="-40" y="-224">dzien &lt;= 30</label></location><location id="id12" x="-184" y="-240"><name x="-176" y="-280">Marzec</name><label kind="invariant" x="-208" y="-224">dzien &lt;= 31</label></location><location id="id13" x="-352" y="-368"><name x="-362" y="-398">Luty_przestepny</name><label kind="invariant" x="-440" y="-376">dzien &lt;= 29</label></location><location id="id14" x="-688" y="-240"><name x="-720" y="-272">Styczen</name><label kind="invariant" x="-728" y="-224">dzien &lt;= 31</label></location><location id="id15" x="-496" y="-128"><name x="-520" y="-160">Listopad</name><label kind="invariant" x="-528" y="-112">dzien &lt;= 30</label></location><init ref="id14"/><transition><source ref="id0"/><target ref="id14"/><label kind="synchronisation" x="-848" y="-224">koniec_roku!</label><nail x="-856" y="-240"/></transition><transition><source ref="id4"/><target ref="id0"/><label kind="guard" x="-816" y="-152">dzien == 31</label><label kind="assignment" x="-808" y="-128">dzien = 0</label></transition><transition><source ref="id13"/><target ref="id12"/><label kind="guard" x="-256" y="-344">dzien == 29</label><label kind="assignment" x="-256" y="-314">dzien = 0</label></transition><transition><source ref="id1"/><target ref="id12"/><label kind="guard" x="-296" y="-224">dzien == 28</label><label kind="assignment" x="-288" y="-208">dzien = 0</label></transition><transition><source ref="id2"/><target ref="id1"/><label kind="synchronisation" x="-440" y="-216">normalny?</label></transition><transition><source ref="id2"/><target ref="id13"/><label kind="synchronisation" x="-452" y="-319">przestepny?</label><nail x="-392" y="-256"/></transition><transition><source ref="id3"/><target ref="id2"/><label kind="synchronisation" x="-536" y="-264">sprawdz_rok!</label></transition><transition><source ref="id14"/><target ref="id3"/><label kind="guard" x="-656" y="-264">dzien == 31</label><label kind="assignment" x="-640" y="-240">dzien = 0</label></transition><transition><source ref="id15"/><target ref="id4"/><label kind="guard" x="-624" y="-112">dzien == 30</label><label kind="assignment" x="-608" y="-128">dzien = 0</label></transition><transition><source ref="id8"/><target ref="id15"/><label kind="guard" x="-432" y="-128">dzien == 31</label><label kind="assignment" x="-416" y="-152">dzien = 0</label></transition><transition><source ref="id7"/><target ref="id8"/><label kind="guard" x="-216" y="-128">dzien == 30</label><label kind="assignment" x="-224" y="-152">dzien = 0</label></transition><transition><source ref="id6"/><target ref="id7"/><label kind="guard" x="-24" y="-128">dzien == 31</label><label kind="assignment" x="-40" y="-152">dzien = 0</label></transition><transition><source ref="id5"/><target ref="id6"/><label kind="guard" x="176" y="-128">dzien == 31</label><label kind="assignment" x="168" y="-152">dzien = 0</label></transition><transition><source ref="id9"/><target ref="id5"/><label kind="guard" x="208" y="-192">dzien == 30</label><label kind="assignment" x="304" y="-200">dzien = 0</label></transition><transition><source ref="id10"/><target ref="id9"/><label kind="guard" x="176" y="-240">dzien == 31</label><label kind="assignment" x="176" y="-264">dzien = 0</label></transition><transition><source ref="id11"/><target ref="id10"/><label kind="guard" x="16" y="-240">dzien == 30</label><label kind="assignment" x="32" y="-264">dzien = 0</label></transition><transition><source ref="id12"/><target ref="id11"/><label kind="guard" x="-128" y="-240">dzien == 31</label><label kind="assignment" x="-120" y="-264">dzien = 0</label></transition></template><template><name>Rok</name><declaration>// Place local declarations here.
int[1900,2018] rok;

bool zmiana(int rok) {
	return ((rok % 4 == 0) &amp;&amp; (rok % 100 != 0)) || (rok % 400 == 0);
}</declaration><location id="id16" x="-728" y="-408"><name x="-704" y="-400">rok_normalny</name></location><location id="id17" x="-720" y="-544"><committed/></location><location id="id18" x="-912" y="-544"><committed/></location><location id="id19" x="-528" y="-408"><name x="-488" y="-416">koniec</name></location><location id="id20" x="-936" y="-408"><name x="-1016" y="-400">rok_przestepny</name></location><init ref="id16"/><transition><source ref="id16"/><target ref="id16"/><label kind="guard" x="-784" y="-312">!zmiana(rok+1) &amp;&amp; rok &lt; 2018</label><label kind="synchronisation" x="-760" y="-336">koniec_roku?</label><label kind="assignment" x="-744" y="-352">rok += 1</label><nail x="-672" y="-320"/><nail x="-768" y="-320"/></transition><transition><source ref="id20"/><target ref="id16"/><label kind="synchronisation" x="-888" y="-344">koniec_roku?</label><label kind="assignment" x="-880" y="-328">rok += 1</label><nail x="-848" y="-424"/></transition><transition><source ref="id16"/><target ref="id20"/><label kind="guard" x="-888" y="-368">zmiana(rok+1)</label><label kind="synchronisation" x="-892" y="-423">koniec_roku?</label><label kind="assignment" x="-892" y="-408">rok += 1</label><nail x="-832" y="-368"/></transition><transition><source ref="id17"/><target ref="id16"/><label kind="synchronisation" x="-760" y="-488">normalny!</label><nail x="-776" y="-464"/></transition><transition><source ref="id16"/><target ref="id17"/><label kind="synchronisation" x="-688" y="-512">sprawdz_rok?</label><nail x="-672" y="-464"/></transition><transition><source ref="id16"/><target ref="id19"/><label kind="guard" x="-672" y="-448">rok == 2018</label><label kind="synchronisation" x="-672" y="-432">koniec_roku?</label></transition><transition><source ref="id18"/><target ref="id20"/><label kind="synchronisation" x="-1016" y="-512">przestepny!</label><nail x="-944" y="-480"/></transition><transition><source ref="id20"/><target ref="id18"/><label kind="synchronisation" x="-880" y="-528">sprawdz_rok?</label><nail x="-864" y="-480"/></transition></template><system>// Place template instantiations here.
P1 = Miesiac();
P2 = Rok();

// List one or more processes to be composed into a system.
system P1, P2;</system></nta>